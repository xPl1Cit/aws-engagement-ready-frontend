<div class="shop-container">
  <header class="shop-header">
    <div class="shop-name">B2B Shop</div>
    <div class="cart-icon" (click)="toggleCart()">
      ðŸ›’
      <span class="cart-count" *ngIf="cartCount > 0">{{ cartCount }}</span>
    </div>
  </header>

  <!-- Cart Section -->
  <div *ngIf="showCart" class="cart-section">
    <h3>Cart Contents</h3>
    <div *ngIf="groupedCartItems.length === 0">Cart is empty.</div>

    <table *ngIf="groupedCartItems.length > 0" class="cart-table">
      <thead>
        <tr>
          <th align="left">Product</th>
          <th>Qty</th>
          <th>Unit Price</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of groupedCartItems">
          <td>{{ item.product.name }}</td>
          <td align="center">{{ item.quantity }}</td>
          <td align="right">â‚¬{{ item.product.price.toFixed(2) }}</td>
          <td align="right">â‚¬{{ (item.product.price * item.quantity).toFixed(2) }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3" align="right"><strong>Total:</strong></td>
          <td align="right"><strong>â‚¬{{ totalCartPrice.toFixed(2) }}</strong></td>
        </tr>
      </tfoot>
    </table>
  </div>

  <!-- Products List -->
  <div class="product-list">
    <div *ngFor="let product of products" class="product-card">
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
      <p class="price">â‚¬{{ product.price.toFixed(2) }}</p>
      <button (click)="addToCart(product)">Add to Cart</button>
    </div>
  </div>
</div>
